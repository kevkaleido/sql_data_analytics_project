# Data Analytics Project.

This project represents the next step in my data journey, building directly upon the **SQL Data Warehouse Project** I completed previously. You can explore the foundation of this work here: [sql-data-warehouse-project](https://github.com/kevkaleido/sql-data-warehouse-project).

My goal was to take the structured data in my warehouse and perform a full analytics lifecycle—from initial exploration to building comprehensive reports—to uncover actionable business insights.

## Phase 1: Setting the Stage

I started by creating a dedicated analytical database, `DataWarehouseAnalytics`, within a `gold` schema. I then built the core analytical tables (`gold.dim_customers`, `gold.dim_products`, `gold.fact_sales`) and populated them by bulk inserting data from CSV files, specifying the file paths directly in my script.

A fundamental concept I applied here was distinguishing between **Dimensions** (qualitative attributes like country or category used for grouping) and **Measures** (quantitative, numeric values like sales amount that can be aggregated).

## Phase 2: Exploratory Data Analysis (EDA)

My first step was to understand the data landscape. I queried the `INFORMATION_SCHEMA` tables to review all available tables and columns, providing a map of the database.

I then began exploring the dimensions to understand their composition:
*   Identified all unique countries customers originated from.
*   Listed all product categories to understand the business's major divisions.

Next, I established the data's scope by finding its temporal boundaries:
*   Identified the date of the first and last order.
*   Calculated the total years of sales data available.
*   Found the youngest and oldest customer ages.

Finally, I turned to the measures, using aggregate functions to grasp the scale of the business:
*   Total Sales, Quantity Sold, and Number of Orders.
*   The Average Selling Price.
*   The total number of products and customers.
*   **A key lesson:** To count distinct entities like orders, I learned to use `COUNT(DISTINCT order_number)` instead of a simple `COUNT()`, which would have inflated the numbers by counting duplicate line items.

## Phase 3: Dimensional Analysis and Ranking

I started comparing measure values across different categories to understand performance and composition:
*   Analyzed total customers by country and gender.
*   Broke down total products and average cost by category.
*   Calculated the total revenue generated by each category and by each customer.
*   Joined the fact table to dimension tables (always starting from the fact table) to perform these analyses.

To identify top and bottom performers, I used ranking and `SELECT TOP`:
*   Ranked the top and bottom 5 products and subcategories by revenue.
*   Identified the top 10 highest-revenue customers and the 3 customers with the fewest orders.

## Phase 4: Advanced Analytics

**Trend Analysis:** I analyzed sales performance over time by aggregating sales by date (e.g., monthly), revealing trends and patterns.

**Year-Over-Year Performance:** This was a deep dive. I created a query using a CTE to analyze each product's yearly sales. Using window functions like `LAG()`, I compared each year's sales to:
1.  The product's own average sales, flagging performance as above or below average.
2.  The previous year's sales, categorizing the change as an increase or decrease. This provided a clear view of product growth and decline.

**Proportional Analysis:** I calculated what percentage of total sales each category contributed to (a part-to-whole analysis). A crucial technical lesson here was avoiding integer division by casting values to `FLOAT` before calculating the percentage, ensuring accurate results.

**Customer Segmentation:** I grouped customers into behavioral segments (VIP, Regular, New) based on their spending and tenure (lifespan). This involved using `CASE` statements on aggregated metrics like total spending and the `DATEDIFF` between their first and last order.

## Phase 5: Building Comprehensive Reports

The final step was to consolidate these analyses into two master views for ongoing use.

### 1. Customer Report (`gold.report_customers`)
This view provides a 360-degree view of each customer. It includes:
*   **Core details:** Name, age, country.
*   **Segments:** Based on age group and spending behavior.
*   **Aggregated metrics:** Total orders, sales, quantity purchased, and product variety.
*   **Key KPIs:** **Recency** (months since last order), **Average Order Value**, and **Average Monthly Spending**. Building these KPIs required careful handling of edge cases with `CASE` statements, like dividing by zero for new customers.

### 2. Product Report (`gold.report_products`)
This view offers a complete performance summary for each product. It includes:
*   **Core details:** Name, category, subcategory, cost.
*   **Performance Segment:** Classified as High-Performer, Mid-Range, or Low-Performer.
*   **Aggregated metrics:** Total orders, sales, quantity sold, and unique customers who purchased it.
*   **Key KPIs:** **Average Selling Price**, **Months since last order**, and more. Here, I correctly used `COUNT(DISTINCT customer_key)` to count unique customers, not total transactions.

This project took me from raw data to a powerful, insight-ready analytical system, reinforcing core data concepts and advanced SQL techniques along the way.
